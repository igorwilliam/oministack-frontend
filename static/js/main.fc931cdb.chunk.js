(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,n){e.exports=n(287)},128:function(e,t,n){},149:function(e,t,n){},277:function(e,t){},280:function(e,t,n){},287:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(110),o=n.n(c),i=(n(128),n(116)),s=n(11),l=n(14),u=n.n(l),p=n(30),m=n(31),f=n(32),h=n(35),b=n(33),d=n(36),E=n(111),x=n.n(E).a.create({baseURL:"https://oministack-b.herokuapp.com"}),v=n(34),w=n.n(v),g=(n(149),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={newBox:""},n.handleSubmit=function(){var e=Object(p.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x.post("boxes",{title:n.state.newBox});case 3:a=e.sent,n.props.history.push("/box/".concat(a.data._id));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleInputChange=function(e){n.setState({newBox:e.target.value})},n}return Object(d.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"main-container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("img",{src:w.a,alt:""}),r.a.createElement("input",{placeholder:"Criar um Box",value:this.state.newBox,onChange:this.handleInputChange}),r.a.createElement("button",{type:"submit"},"Criar")))}}]),t}(a.Component)),j=n(120),O=n(122),k=n(112),y=n(113),C=n.n(y),A=n(119),B=n(115),I=n.n(B),S=n(121),D=(n(280),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={box:{}},n.subscribeToNewFiles=function(){var e=n.props.match.params.id,t=I()("https://oministack-b.herokuapp.com");t.emit("connectRoom",e),t.on("file",function(e){console.log(e),n.setState({box:Object(O.a)({},n.state.box,{files:[e].concat(Object(j.a)(n.state.box.files))})})})},n.handleUpload=function(e){e.forEach(function(e){var t=new FormData,a=n.props.match.params.id;t.append("file",e),x.post("boxes/".concat(a,"/files"),t)})},n}return Object(d.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.subscribeToNewFiles(),t=this.props.match.params.id,e.next=4,x.get("boxes/".concat(t));case 4:n=e.sent,this.setState({box:n.data});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{id:"box-container"},r.a.createElement("header",null,r.a.createElement("img",{src:w.a,alt:""}),r.a.createElement("h1",null,this.state.box.title)),r.a.createElement(A.a,{onDropAccepted:this.handleUpload},function(e){var t=e.getRootProps,n=e.getInputProps;return r.a.createElement("div",Object.assign({className:"upload"},t()),r.a.createElement("input",n()),r.a.createElement("p",null,"Arraste arquivos ou clique aqui"))}),r.a.createElement("ul",null,this.state.box.files&&this.state.box.files.map(function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("a",{className:"fileInfo",href:e.url,target:"blank"},r.a.createElement(S.a,{size:24,color:"#A5Cfff"}),r.a.createElement("strong",null,e.title)),r.a.createElement("span",null,"h\xe1"," ",Object(k.distanceInWords)(e.createdAt,new Date,{locale:C.a})))})))}}]),t}(a.Component)),N=function(){return r.a.createElement(i.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:g}),r.a.createElement(s.a,{path:"/box/:id",component:D})))},q=function(){return r.a.createElement(N,null)};o.a.render(r.a.createElement(q,null),document.getElementById("root"))},34:function(e,t,n){e.exports=n.p+"static/media/logo.2e06992f.svg"}},[[123,1,2]]]);
//# sourceMappingURL=main.fc931cdb.chunk.js.map